apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "akashi.fullname" . }}
  labels:
    {{- include "akashi.labels" . | nindent 4 }}
data:
  AKASHI_PORT: {{ .Values.akashi.port | quote }}
  AKASHI_LOG_LEVEL: {{ .Values.akashi.logLevel | quote }}
  AKASHI_EMBEDDING_PROVIDER: {{ .Values.embedding.provider | quote }}
  AKASHI_EMBEDDING_MODEL: {{ .Values.embedding.model | quote }}
  AKASHI_EMBEDDING_DIMENSIONS: {{ .Values.embedding.dimensions | quote }}
  OLLAMA_URL: {{ include "akashi.ollamaUrl" . | quote }}
  OLLAMA_MODEL: {{ .Values.ollama.model | quote }}
  {{- if .Values.qdrant.enabled }}
  QDRANT_URL: {{ .Values.qdrant.url | quote }}
  QDRANT_COLLECTION: {{ .Values.qdrant.collection | quote }}
  {{- end }}
  {{- if .Values.baseUrl }}
  AKASHI_BASE_URL: {{ .Values.baseUrl | quote }}
  {{- end }}
  {{- if .Values.observability.otlpEndpoint }}
  OTEL_EXPORTER_OTLP_ENDPOINT: {{ .Values.observability.otlpEndpoint | quote }}
  OTEL_SERVICE_NAME: {{ .Values.observability.serviceName | quote }}
  {{- end }}
