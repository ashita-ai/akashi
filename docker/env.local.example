# Akashi local development — docker/docker-compose.local.yml
#
# This file is optional. All values have sensible defaults for local dev.
# Copy it only if you need to override something:
#
#   cp docker/env.local.example docker/.env.local
#   docker compose -f docker/docker-compose.local.yml --env-file docker/.env.local up -d
#
# Without an env file, just run:
#   docker compose -f docker/docker-compose.local.yml up -d

# ──────────────────────────────────────────────────────────────
# Postgres (local container)
# ──────────────────────────────────────────────────────────────

# POSTGRES_PASSWORD=akashi

# ──────────────────────────────────────────────────────────────
# Admin API key
# ──────────────────────────────────────────────────────────────

# AKASHI_ADMIN_API_KEY=changeme

# ──────────────────────────────────────────────────────────────
# Redis
# ──────────────────────────────────────────────────────────────

# REDIS_PASSWORD=akashi

# ──────────────────────────────────────────────────────────────
# Embedding provider
# ──────────────────────────────────────────────────────────────

# Default is "noop" — no external service needed for local development.
# Set to "auto" if Ollama is running on your host machine, or "openai"
# with a valid key to enable real embeddings.
# AKASHI_EMBEDDING_PROVIDER=noop

# OPENAI_API_KEY=
# AKASHI_EMBEDDING_MODEL=text-embedding-3-small
# AKASHI_EMBEDDING_DIMENSIONS=1024

# Ollama on the host (macOS Docker Desktop uses host.docker.internal):
# OLLAMA_URL=http://host.docker.internal:11434
# OLLAMA_MODEL=mxbai-embed-large

# ──────────────────────────────────────────────────────────────
# Logging
# ──────────────────────────────────────────────────────────────

# Default is "debug" for local development.
# AKASHI_LOG_LEVEL=debug

# ──────────────────────────────────────────────────────────────
# Variables available in cloud mode but omitted here
# ──────────────────────────────────────────────────────────────
# The following are configured in docker-compose.cloud.yml but not
# in the local variant. To test these features locally, add the
# variables to the akashi service's environment block in
# docker-compose.local.yml:
#
#   Qdrant vector search: QDRANT_URL, QDRANT_API_KEY, QDRANT_COLLECTION
#   Stripe billing:       STRIPE_SECRET_KEY, STRIPE_WEBHOOK_SECRET, STRIPE_PRO_PRICE_ID
#   Email verification:   AKASHI_SMTP_HOST, AKASHI_SMTP_PORT, AKASHI_SMTP_USER,
#                         AKASHI_SMTP_PASSWORD, AKASHI_SMTP_FROM, AKASHI_BASE_URL
#   Observability:        OTEL_EXPORTER_OTLP_ENDPOINT, OTEL_SERVICE_NAME
