# Postgres password (used by both postgres container and connection strings)
POSTGRES_PASSWORD=akashi

# Database connections
DATABASE_URL=postgres://akashi:akashi@localhost:6432/akashi?sslmode=disable
NOTIFY_URL=postgres://akashi:akashi@localhost:5432/akashi?sslmode=disable

# Admin bootstrap API key (change for production)
AKASHI_ADMIN_API_KEY=admin

# Embedding provider: "auto" (default), "openai", "ollama", or "noop"
# auto: tries Ollama if reachable, then OpenAI if key present, else noop
AKASHI_EMBEDDING_PROVIDER=auto

# OpenAI settings (used when provider is "openai" or "auto" with key present)
OPENAI_API_KEY=
AKASHI_EMBEDDING_MODEL=text-embedding-3-small

# Ollama settings (used when provider is "ollama" or "auto" without OpenAI key)
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=mxbai-embed-large

# Qdrant is auto-wired in docker-compose.yml for local dev.
# Only set these to override (e.g. to point at Qdrant Cloud):
# QDRANT_URL=https://xyz.cloud.qdrant.io:6333
# QDRANT_API_KEY=

# Log level: debug, info, warn, error
AKASHI_LOG_LEVEL=info

# Idempotency key retention / recovery
AKASHI_IDEMPOTENCY_CLEANUP_INTERVAL=1h
AKASHI_IDEMPOTENCY_COMPLETED_TTL=168h
AKASHI_IDEMPOTENCY_ABANDONED_TTL=24h

# Write-ahead log for crash-durable event buffering.
# Enabled by default at ./data/wal. Set AKASHI_WAL_DISABLE=true for dev/testing.
# AKASHI_WAL_DIR=./data/wal
# AKASHI_WAL_DISABLE=false

# Safety gate: destructive delete endpoint (DELETE /v1/agents/{agent_id})
# Keep false by default; enable only for controlled GDPR workflows.
AKASHI_ENABLE_DESTRUCTIVE_DELETE=false
